.. raw:: html

   <!--

   ============================================================================

      DO NOT EDIT THIS FILE! It was generated using Sphinx from:

      Origin:   $URL: https://sbia-svn.uphs.upenn.edu/projects/DRAMMS/branches/dramms-1.4/doc/tools/defop.rst $
      Revision: $Rev: 1900 $

   ============================================================================

   -->

.. title:: Operations on Deformation


=========================
Operations on Deformation
=========================

.. _readdisplacement:

Read Displacement At A Voxel
============================

To display the displacement of the voxel (x,y,z) in the deformation ``def.nii.gz`` in the command window, use the following command::

    dramms-defop -c  ${x},${y},${z}  def.nii.gz


.. _invertdeformation:

Invert A Transformation
=======================

Invert an affine matrix: ::

    dramms-defop -i  affine.mat  inverted_affine.mat

	
Invert a deformation: ::

    dramms-defop -i  def.nii.gz  inverted_def.nii.gz

.. caution:: In general we do not recommend to directly invert a deformation using this command
             since the numerical calculations may introduce errors especially at object/image
             boundaries. Instead, we recommend to re-run the ``dramms`` registration, swapping the
             source and the target images.

.. _smoothdeformation:

Smooth A Deformation
====================

Let the output deformation replace the input deformation::

    dramms-defop -s  def.nii.gz

To keep the input deformation and generate a new smoothed deformation::
   
    dramms-defop -s  def.nii.gz  smoothed_def.nii.gz



